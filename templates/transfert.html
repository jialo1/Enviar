<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="transfer-page-title">Enviar - Nouveau Transfert</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/calculator.css">
    <link rel="stylesheet" href="/static/css/whatsapp-buttons.css?v=1">
    <link rel="stylesheet" href="/static/css/whatsapp-floating.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX', {
            'analytics_storage': 'denied' // Par dÃ©faut, les cookies sont dÃ©sactivÃ©s
        });
    </script>
</head>
<body>
    <header class="header">
        <div class="header-container">
            <a href="/" class="logo">
                <img src="/images/Logo1.png" alt="Enviar Logo" style="height: 40px;">
            </a>
            <nav class="nav-menu">
                <ul class="nav-links">
                    <li><a href="/" data-translate="nav-home">Accueil</a></li>
                    <li><a href="/fonctionnement" data-translate="nav-how-it-works">Fonctionnement</a></li>
                    <li><a href="/a-propos" data-translate="nav-about">Ã€ propos</a></li>
                    <li><a href="/contact" data-translate="nav-contact">Contact</a></li>
                </ul>
                <div class="nav-buttons">
                    <select class="language-selector">
                        <option value="fr">ðŸ‡«ðŸ‡· FR</option>
                        <option value="en">ðŸ‡¨ðŸ‡¦ EN</option>
                    </select>
                </div>
            </nav>
            <div class="menu-toggle" aria-label="Menu">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>

    <main>
        <div class="transfert-layout">
            <div class="transfert-container">
                <form id="transfert-form" class="transfert-form">
                    <!-- Ã‰tape 1: DÃ©tails du transfert -->
                    <div class="form-step active" data-step="1">
                        <h2 data-translate="transfer-details">DÃ©tails du transfert</h2>
                        <div class="form-group">
                            <label data-translate="sending-country">Pays de dÃ©part</label>
                            <div id="pays-depart-display" class="pays-display"></div>
                        </div>
                        <div class="form-group">
                            <label data-translate="receiving-country">Pays de destination</label>
                            <div id="pays-destination-display" class="pays-display"></div>
                        </div>
                        <div class="transfer-summary">
                            <div class="summary-row">
                                <span class="summary-label" data-translate="amount-to-send" style="color: #00A859;"><strong>Envoi :</strong></span>
                                <span class="summary-value" id="montant-display" style="color: #00A859;"></span>
                            </div>
                            <div class="summary-row highlight">
                                <span class="summary-label" data-translate="amount-to-receive"><strong>RÃ©ception :</strong></span>
                                <span class="summary-value" id="montant-recu-display"></span>
                        </div>
                            <div class="summary-row">
                                <span class="summary-label" data-translate="transfer-fees"><strong>Frais :</strong></span>
                                <span class="summary-value" id="frais-display"></span>
                        </div>
                            <div class="summary-row total">
                                <span class="summary-label" data-translate="total-to-pay"><strong>Total :</strong></span>
                                <span class="summary-value" id="total-display"></span>
                        </div>
                        </div>
                        <button type="button" class="next-step cta-button" data-translate="continue">Continuer</button>
                    </div>

                    <!-- Ã‰tape 2: Vos informations -->
                    <div class="form-step" data-step="2">
                        <h2 data-translate="your-info">Vos informations</h2>
                        <div class="form-group">
                            <label for="nom" data-translate="nom">Nom</label>
                            <input type="text" id="nom" name="nom" required placeholder="Nom" data-translate-placeholder="nom">
                        </div>
                        <div class="form-group">
                            <label for="prenom" data-translate="prenom">PrÃ©nom</label>
                            <input type="text" id="prenom" name="prenom" required placeholder="PrÃ©nom" data-translate-placeholder="prenom">
                        </div>
                        <div class="form-group">
                            <label for="telephone" data-translate="phone">TÃ©lÃ©phone</label>
                            <div style="display: flex; gap: 8px; align-items: stretch; height: 40px;">
                                <select id="indicatif" name="indicatif" style="width: 100px; font-size: 0.85em; color: #333; background-color: #f8f8f8; border: 1px solid #ddd; border-radius: 4px; padding: 8px;" required>
                                    <option value="+1">ðŸ‡¨ðŸ‡¦ +1 (Canada)</option>
                                    <option value="+224" selected>ðŸ‡¬ðŸ‡³ +224 (GuinÃ©e)</option>
                                    <option value="+221">ðŸ‡¸ðŸ‡³ +221 (SÃ©nÃ©gal)</option>
                                    <option value="+33">ðŸ‡«ðŸ‡· +33 (France)</option>
                                    <option value="+32">ðŸ‡§ðŸ‡ª +32 (Belgique)</option>
                                    <option value="+41">ðŸ‡¨ðŸ‡­ +41 (Suisse)</option>
                                    <option value="+212">ðŸ‡²ðŸ‡¦ +212 (Maroc)</option>
                                    <option value="+225">ðŸ‡¨ðŸ‡® +225 (CÃ´te d'Ivoire)</option>
                                    <option value="+237">ðŸ‡¨ðŸ‡² +237 (Cameroun)</option>
                                    <option value="+243">ðŸ‡¨ðŸ‡© +243 (RDC)</option>
                                    <option value="+250">ðŸ‡·ðŸ‡¼ +250 (Rwanda)</option>
                                    <option value="+254">ðŸ‡°ðŸ‡ª +254 (Kenya)</option>
                                    <option value="+234">ðŸ‡³ðŸ‡¬ +234 (Nigeria)</option>
                                    <option value="+233">ðŸ‡¬ðŸ‡­ +233 (Ghana)</option>
                                    <option value="+27">ðŸ‡¿ðŸ‡¦ +27 (Afrique du Sud)</option>
                                </select>
                                <input type="tel" id="telephone" name="telephone" required data-translate-placeholder="phone" style="flex: 1;">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="email" data-translate="email">Email (optionnel)</label>
                            <input type="email" id="email" name="email" data-translate-placeholder="email">
                        </div>
                        <div class="form-buttons">
                            <button type="button" class="next-step cta-button" data-translate="continue">Continuer</button>
                            <button type="button" class="prev-step" data-translate="back">Retour</button>
                        </div>
                    </div>

                    <!-- Ã‰tape 3: BÃ©nÃ©ficiaire -->
                    <div class="form-step" data-step="3">
                        <h2 data-translate="beneficiary-info">Informations du bÃ©nÃ©ficiaire</h2>
                        <div class="form-group">
                            <label for="beneficiaire-nom" data-translate="nom">Nom</label>
                            <input type="text" id="beneficiaire-nom" name="beneficiaire-nom" required placeholder="Nom" data-translate-placeholder="nom">
                        </div>
                        <div class="form-group">
                            <label for="beneficiaire-prenom" data-translate="prenom">PrÃ©nom</label>
                            <input type="text" id="beneficiaire-prenom" name="beneficiaire-prenom" required placeholder="PrÃ©nom" data-translate-placeholder="prenom">
                        </div>
                        <div class="form-group">
                            <label for="beneficiaire-telephone" data-translate="beneficiary-phone">TÃ©lÃ©phone du bÃ©nÃ©ficiaire</label>
                            <div style="display: flex; gap: 8px; align-items: stretch; height: 40px;">
                                <select id="beneficiaire-indicatif" name="beneficiaire-indicatif" style="width: 100px; font-size: 0.85em; color: #333; background-color: #f8f8f8; border: 1px solid #ddd; border-radius: 4px; padding: 8px;" required>
                                    <option value="+1">ðŸ‡¨ðŸ‡¦ +1 (Canada)</option>
                                    <option value="+224" selected>ðŸ‡¬ðŸ‡³ +224 (GuinÃ©e)</option>
                                    <option value="+221">ðŸ‡¸ðŸ‡³ +221 (SÃ©nÃ©gal)</option>
                                    <option value="+33">ðŸ‡«ðŸ‡· +33 (France)</option>
                                    <option value="+32">ðŸ‡§ðŸ‡ª +32 (Belgique)</option>
                                    <option value="+41">ðŸ‡¨ðŸ‡­ +41 (Suisse)</option>
                                    <option value="+212">ðŸ‡²ðŸ‡¦ +212 (Maroc)</option>
                                    <option value="+225">ðŸ‡¨ðŸ‡® +225 (CÃ´te d'Ivoire)</option>
                                    <option value="+237">ðŸ‡¨ðŸ‡² +237 (Cameroun)</option>
                                    <option value="+243">ðŸ‡¨ðŸ‡© +243 (RDC)</option>
                                    <option value="+250">ðŸ‡·ðŸ‡¼ +250 (Rwanda)</option>
                                    <option value="+254">ðŸ‡°ðŸ‡ª +254 (Kenya)</option>
                                    <option value="+234">ðŸ‡³ðŸ‡¬ +234 (Nigeria)</option>
                                    <option value="+233">ðŸ‡¬ðŸ‡­ +233 (Ghana)</option>
                                    <option value="+27">ðŸ‡¿ðŸ‡¦ +27 (Afrique du Sud)</option>
                                </select>
                                <input type="tel" id="beneficiaire-telephone" name="beneficiaire-telephone" required data-translate-placeholder="beneficiary-phone" style="flex: 1;">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="beneficiaire-adresse" data-translate="beneficiary-address">Adresse du bÃ©nÃ©ficiaire</label>
                            <input type="text" id="beneficiaire-adresse" name="beneficiaire-adresse" required data-translate-placeholder="beneficiary-address">
                        </div>
                        <div class="form-buttons">
                            <button type="button" class="next-step cta-button" data-translate="continue">Continuer</button>
                            <button type="button" class="prev-step" data-translate="back">Retour</button>
                        </div>
                    </div>

                    <!-- Ã‰tape 4: Confirmation -->
                    <div class="form-step" data-step="4">
                        <h2 data-translate="transfer-summary">RÃ©capitulatif de votre transfert</h2>
                        <div class="confirmation-summary">
                            <div class="resultat-item">
                                <span data-translate="sending" style="color: #00A859;"><strong>Envoi :</strong></span>
                                <span id="summary-montant-envoyer" style="color: #00A859;"></span>
                            </div>
                            <div class="summary-item">
                                <span data-translate="amount-to-receive"><strong>RÃ©ception :</strong></span>
                                <span id="summary-montant-recu"></span>
                            </div>
                            <div class="summary-item">
                                <span data-translate="transfer-fees"><strong>Frais :</strong></span>
                                <span id="summary-frais"></span>
                            </div>
                            <div class="summary-item">
                                <span data-translate="total-to-pay"><strong>Total :</strong></span>
                                <span id="summary-total"></span>
                            </div>
                            <div class="summary-item" style="background: none; box-shadow: none; display: block; text-align: left; margin-top: 1.5em;">
                                <div><strong>Pays d'envoi :</strong> <span id="summary-pays-depart"></span></div>
                                <div><strong>Pays de rÃ©ception :</strong> <span id="summary-pays-destination"></span></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="message" data-translate="additional-info">Informations complÃ©mentaires (optionnel)</label>
                            <textarea id="message" name="message" rows="3" data-translate-placeholder="message"></textarea>
                        </div>
                        <div class="form-buttons">
                            <a id="whatsapp-continue" href="#" target="_blank" class="cta-button" style="flex:1 1 0; display:flex; align-items:center; justify-content:center; gap:0.5em; text-decoration:none;">
                                <i class="fab fa-whatsapp"></i> <span data-translate="continue-whatsapp">Continuer sur WhatsApp</span>
                            </a>
                            <button type="button" class="prev-step" data-translate="back">Retour</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </main>

    {% include 'cookie-banner.html' %}
    {% include 'footer.html' %}

    <!-- Bouton WhatsApp flottant -->
    <div class="whatsapp-floating">
        <a href="https://wa.me/15142295522" target="_blank" class="btn-whatsapp" aria-label="Contactez-nous sur WhatsApp">
            <i class="fab fa-whatsapp"></i>
        </a>
    </div>

    <script src="/static/js/translator.js"></script>
    <script src="/static/js/transfert.js"></script>
    <script src="/static/js/main.js"></script>
    <script src="/static/js/cookies.js"></script>

    <!-- Modal de confirmation -->
    <div id="confirmation-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 data-translate="transfer-confirmation-title">Confirmation de votre transfert</h2>
            <div class="resultat-calcul">
                <div class="resultat-item">
                    <span data-translate="sending" style="color: #00A859;"><strong>Envoi :</strong></span>
                    <span id="modal-montant-envoyer" style="color: #00A859;"></span>
                </div>
                <div class="resultat-item">
                    <span data-translate="amount-to-receive"><strong>Montant Ã  recevoir :</strong></span>
                    <span id="modal-montant-recu"></span>
                </div>
                <div class="resultat-item">
                    <span data-translate="transfer-fees"><strong>Frais de transfert :</strong></span>
                    <span id="modal-frais"></span>
                </div>
                <div class="resultat-item">
                    <span data-translate="total-to-pay"><strong>Total Ã  payer :</strong></span>
                    <span id="modal-total"></span>
                </div>
            </div>
            <div class="contact-button">
                <a href="#" id="modal-whatsapp-link" class="cta-button">
                    <i class="fab fa-whatsapp"></i> <span data-translate="continue-whatsapp">Continuer sur WhatsApp</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Script pour le menu mobile -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.querySelector('.menu-toggle');
            const navMenu = document.querySelector('.nav-menu');
            const menuIcon = menuToggle.querySelector('i');

            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                menuIcon.classList.toggle('fa-bars');
                menuIcon.classList.toggle('fa-times');
            });

            // Fermer le menu quand on clique sur un lien
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    navMenu.classList.remove('active');
                    menuIcon.classList.add('fa-bars');
                    menuIcon.classList.remove('fa-times');
                });
            });

            // Fermer le menu quand on clique en dehors
            document.addEventListener('click', (e) => {
                if (!navMenu.contains(e.target) && !menuToggle.contains(e.target)) {
                    navMenu.classList.remove('active');
                    menuIcon.classList.add('fa-bars');
                    menuIcon.classList.remove('fa-times');
                }
            });
        });
    </script>
</body>
</html> 